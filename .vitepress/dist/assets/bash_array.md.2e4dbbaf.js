import{_ as s,o as a,c as n,Q as p}from"./chunks/framework.681fc4ae.js";const C=JSON.parse('{"title":"数组","description":"","frontmatter":{},"headers":[],"relativePath":"bash/array.md","filePath":"bash/array.md"}'),l={name:"bash/array.md"},o=p(`<h1 id="数组" tabindex="-1">数组 <a class="header-anchor" href="#数组" aria-label="Permalink to &quot;数组&quot;">​</a></h1><p>数组（array）是一个包含多个值的变量。成员的编号从0开始，数量没有上限，也没有要求成员被连续索引。</p><h2 id="创建数组" tabindex="-1">创建数组 <a class="header-anchor" href="#创建数组" aria-label="Permalink to &quot;创建数组&quot;">​</a></h2><p>数组可以采用逐个赋值的方法创建。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">ARRAY[INDEX]</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">value</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">ARRAY[INDEX]</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">value</span></span></code></pre></div><p>上面语法中，<code>ARRAY</code>是数组的名字，可以是任意合法的变量名。<code>INDEX</code>是一个大于或等于零的整数，也可以是算术表达式。注意数组第一个元素的下标是0， 而不是1。</p><p>下面创建一个三个成员的数组。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">array[</span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">]=val</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">array[</span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">]=val</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">array[</span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">]=val</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">array[</span><span style="color:#005CC5;">0</span><span style="color:#032F62;">]=val</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">array[</span><span style="color:#005CC5;">1</span><span style="color:#032F62;">]=val</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">array[</span><span style="color:#005CC5;">2</span><span style="color:#032F62;">]=val</span></span></code></pre></div><p>数组也可以采用一次性赋值的方式创建。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">ARRAY</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">value1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">value2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">...</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">valueN</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 等同于</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">ARRAY</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">value1</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">value2</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">value3</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">ARRAY</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">value1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">value2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">...</span><span style="color:#24292E;"> </span><span style="color:#032F62;">valueN</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 等同于</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">ARRAY</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">value1</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">value2</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">value3</span></span>
<span class="line"><span style="color:#24292E;">)</span></span></code></pre></div><p>采用上面方式创建数组时，可以按照默认顺序赋值，也可以在每个值前面指定位置。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">array=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">array=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">[</span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">]=c</span><span style="color:#E1E4E8;"> [0]=a [</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">]=b)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">days=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">Sun</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Mon</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Tue</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Wed</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Thu</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Fri</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Sat</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">days=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">[</span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">]=Sun</span><span style="color:#E1E4E8;"> [1]=Mon [</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">]=Tue [</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">]=Wed [</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">]=Thu [</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">]=Fri [</span><span style="color:#79B8FF;">6</span><span style="color:#E1E4E8;">]=Sat)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">array=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">array=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">[</span><span style="color:#005CC5;">2</span><span style="color:#032F62;">]=c</span><span style="color:#24292E;"> [0]=a [</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">]=b)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">days=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">Sun</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Mon</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Tue</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Wed</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Thu</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Fri</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Sat</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">days=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">[</span><span style="color:#005CC5;">0</span><span style="color:#032F62;">]=Sun</span><span style="color:#24292E;"> [1]=Mon [</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">]=Tue [</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">]=Wed [</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">]=Thu [</span><span style="color:#005CC5;">5</span><span style="color:#24292E;">]=Fri [</span><span style="color:#005CC5;">6</span><span style="color:#24292E;">]=Sat)</span></span></code></pre></div><p>只为某些值指定位置，也是可以的。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">names</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">hatter</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">[</span><span style="color:#79B8FF;">5</span><span style="color:#9ECBFF;">]=duchess</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">alice</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">names</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">hatter</span><span style="color:#24292E;"> </span><span style="color:#032F62;">[</span><span style="color:#005CC5;">5</span><span style="color:#032F62;">]=duchess</span><span style="color:#24292E;"> </span><span style="color:#032F62;">alice</span><span style="color:#24292E;">)</span></span></code></pre></div><p>上面例子中，<code>hatter</code>是数组的0号位置，<code>duchess</code>是5号位置，<code>alice</code>是6号位置。</p><p>没有赋值的数组元素的默认值是空字符串。</p><p>定义数组的时候，可以使用通配符。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mp3s=</span><span style="color:#E1E4E8;">( </span><span style="color:#79B8FF;">*</span><span style="color:#9ECBFF;">.mp3</span><span style="color:#E1E4E8;"> )</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mp3s=</span><span style="color:#24292E;">( </span><span style="color:#005CC5;">*</span><span style="color:#032F62;">.mp3</span><span style="color:#24292E;"> )</span></span></code></pre></div><p>上面例子中，将当前目录的所有 MP3 文件，放进一个数组。</p><p>先用<code>declare -a</code>命令声明一个数组，也是可以的。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">declare</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ARRAYNAME</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">declare</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ARRAYNAME</span></span></code></pre></div><p><code>read -a</code>命令则是将用户的命令行输入，存入一个数组。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">read</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">dice</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">read</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">dice</span></span></code></pre></div><p>上面命令将用户的命令行输入，存入数组<code>dice</code>。</p><h2 id="读取数组" tabindex="-1">读取数组 <a class="header-anchor" href="#读取数组" aria-label="Permalink to &quot;读取数组&quot;">​</a></h2><h3 id="读取单个元素" tabindex="-1">读取单个元素 <a class="header-anchor" href="#读取单个元素" aria-label="Permalink to &quot;读取单个元素&quot;">​</a></h3><p>读取数组指定位置的成员，要使用下面的语法。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${array[i]}     </span><span style="color:#6A737D;"># i 是索引</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${array[i]}     </span><span style="color:#6A737D;"># i 是索引</span></span></code></pre></div><p>上面语法里面的大括号是必不可少的，否则 Bash 会把索引部分<code>[i]</code>按照原样输出。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">array[</span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">]=a</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${array[0]}</span></span>
<span class="line"><span style="color:#B392F0;">a</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> $array</span><span style="color:#9ECBFF;">[</span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">]</span></span>
<span class="line"><span style="color:#B392F0;">a[0]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">array[</span><span style="color:#005CC5;">0</span><span style="color:#032F62;">]=a</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${array[0]}</span></span>
<span class="line"><span style="color:#6F42C1;">a</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> $array</span><span style="color:#032F62;">[</span><span style="color:#005CC5;">0</span><span style="color:#032F62;">]</span></span>
<span class="line"><span style="color:#6F42C1;">a[0]</span></span></code></pre></div><p>上面例子中，数组的第一个元素是<code>a</code>。如果不加大括号，Bash 会直接读取<code>$array</code>首成员的值，然后将<code>[0]</code>按照原样输出。</p><h3 id="读取所有成员" tabindex="-1">读取所有成员 <a class="header-anchor" href="#读取所有成员" aria-label="Permalink to &quot;读取所有成员&quot;">​</a></h3><p><code>@</code>和<code>*</code>是数组的特殊索引，表示返回数组的所有成员。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${foo[@]}</span></span>
<span class="line"><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${foo[@]}</span></span>
<span class="line"><span style="color:#6F42C1;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f</span></span></code></pre></div><p>这两个特殊索引配合<code>for</code>循环，就可以用来遍历数组。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;\${</span><span style="color:#E1E4E8;">names</span><span style="color:#9ECBFF;">[@]}&quot;</span><span style="color:#E1E4E8;">; </span><span style="color:#F97583;">do</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> $i</span></span>
<span class="line"><span style="color:#F97583;">done</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;\${</span><span style="color:#24292E;">names</span><span style="color:#032F62;">[@]}&quot;</span><span style="color:#24292E;">; </span><span style="color:#D73A49;">do</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> $i</span></span>
<span class="line"><span style="color:#D73A49;">done</span></span></code></pre></div><p><code>@</code>和<code>*</code>放不放在双引号之中，是有差别的。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">activities=</span><span style="color:#E1E4E8;">( </span><span style="color:#9ECBFF;">swimming</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;water skiing&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">canoeing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;white-water rafting&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">surfing</span><span style="color:#E1E4E8;"> )</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">act</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> \${activities[@]}; </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#F97583;">do</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Activity: </span><span style="color:#E1E4E8;">$act</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">; </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#F97583;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">swimming</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">water</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">skiing</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">canoeing</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">white-water</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rafting</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">surfing</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">activities=</span><span style="color:#24292E;">( </span><span style="color:#032F62;">swimming</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;water skiing&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">canoeing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;white-water rafting&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">surfing</span><span style="color:#24292E;"> )</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">act</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> \${activities[@]}; </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#D73A49;">do</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Activity: </span><span style="color:#24292E;">$act</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">; </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#D73A49;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">swimming</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">water</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">skiing</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">canoeing</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">white-water</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rafting</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">surfing</span></span></code></pre></div><p>上面的例子中，数组<code>activities</code>实际包含5个成员，但是<code>for...in</code>循环直接遍历<code>\${activities[@]}</code>，导致返回7个结果。为了避免这种情况，一般把<code>\${activities[@]}</code>放在双引号之中。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">act</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;\${</span><span style="color:#E1E4E8;">activities</span><span style="color:#9ECBFF;">[@]}&quot;</span><span style="color:#E1E4E8;">; </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#F97583;">do</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Activity: </span><span style="color:#E1E4E8;">$act</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">; </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#F97583;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">swimming</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">water</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">skiing</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">canoeing</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">white-water</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rafting</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">surfing</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">act</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;\${</span><span style="color:#24292E;">activities</span><span style="color:#032F62;">[@]}&quot;</span><span style="color:#24292E;">; </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#D73A49;">do</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Activity: </span><span style="color:#24292E;">$act</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">; </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#D73A49;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">swimming</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">water</span><span style="color:#24292E;"> </span><span style="color:#032F62;">skiing</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">canoeing</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">white-water</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rafting</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">surfing</span></span></code></pre></div><p>上面例子中，<code>\${activities[@]}</code>放在双引号之中，遍历就会返回正确的结果。</p><p><code>\${activities[*]}</code>不放在双引号之中，跟<code>\${activities[@]}</code>不放在双引号之中是一样的。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">act</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> \${activities[*]}; </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#F97583;">do</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Activity: </span><span style="color:#E1E4E8;">$act</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">; </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#F97583;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">swimming</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">water</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">skiing</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">canoeing</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">white-water</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rafting</span></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">surfing</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">act</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> \${activities[*]}; </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#D73A49;">do</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Activity: </span><span style="color:#24292E;">$act</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">; </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#D73A49;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">swimming</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">water</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">skiing</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">canoeing</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">white-water</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rafting</span></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">surfing</span></span></code></pre></div><p><code>\${activities[*]}</code>放在双引号之中，所有成员就会变成单个字符串返回。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">act</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;\${</span><span style="color:#E1E4E8;">activities</span><span style="color:#9ECBFF;">[*]}&quot;</span><span style="color:#E1E4E8;">; </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#F97583;">do</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Activity: </span><span style="color:#E1E4E8;">$act</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">; </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#F97583;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">Activity:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">swimming</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">water</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">skiing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">canoeing</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">white-water</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rafting</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">surfing</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">act</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;\${</span><span style="color:#24292E;">activities</span><span style="color:#032F62;">[*]}&quot;</span><span style="color:#24292E;">; </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#D73A49;">do</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Activity: </span><span style="color:#24292E;">$act</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">; </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#D73A49;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Activity:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">swimming</span><span style="color:#24292E;"> </span><span style="color:#032F62;">water</span><span style="color:#24292E;"> </span><span style="color:#032F62;">skiing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">canoeing</span><span style="color:#24292E;"> </span><span style="color:#032F62;">white-water</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rafting</span><span style="color:#24292E;"> </span><span style="color:#032F62;">surfing</span></span></code></pre></div><p>所以，拷贝一个数组的最方便方法，就是写成下面这样。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">hobbies=</span><span style="color:#E1E4E8;">( </span><span style="color:#9ECBFF;">&quot;\${</span><span style="color:#E1E4E8;">activities</span><span style="color:#9ECBFF;">[@]}&quot;</span><span style="color:#E1E4E8;"> )</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">hobbies=</span><span style="color:#24292E;">( </span><span style="color:#032F62;">&quot;\${</span><span style="color:#24292E;">activities</span><span style="color:#032F62;">[@]}&quot;</span><span style="color:#24292E;"> )</span></span></code></pre></div><p>上面例子中，数组<code>activities</code>被拷贝给了另一个数组<code>hobbies</code>。</p><p>这种写法也可以用来为新数组添加成员。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">hobbies=</span><span style="color:#E1E4E8;">( </span><span style="color:#9ECBFF;">&quot;\${</span><span style="color:#E1E4E8;">activities</span><span style="color:#9ECBFF;">[@]}&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">diving</span><span style="color:#E1E4E8;"> )</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">hobbies=</span><span style="color:#24292E;">( </span><span style="color:#032F62;">&quot;\${</span><span style="color:#24292E;">activities</span><span style="color:#032F62;">[@]}&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">diving</span><span style="color:#24292E;"> )</span></span></code></pre></div><p>上面例子中，新数组<code>hobbies</code>在数组<code>activities</code>的所有成员之后，又添加了一个成员。</p><h3 id="默认位置" tabindex="-1">默认位置 <a class="header-anchor" href="#默认位置" aria-label="Permalink to &quot;默认位置&quot;">​</a></h3><p>如果读取数组成员时，没有读取指定哪一个位置的成员，默认使用<code>0</code>号位置。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">declare</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo=A</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${foo[0]}</span></span>
<span class="line"><span style="color:#B392F0;">A</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">declare</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo=A</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${foo[0]}</span></span>
<span class="line"><span style="color:#6F42C1;">A</span></span></code></pre></div><p>上面例子中，<code>foo</code>是一个数组，赋值的时候不指定位置，实际上是给<code>foo[0]</code>赋值。</p><p>引用一个不带下标的数组变量，则引用的是<code>0</code>号位置的数组元素。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${foo}</span></span>
<span class="line"><span style="color:#B392F0;">a</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> $foo</span></span>
<span class="line"><span style="color:#B392F0;">a</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${foo}</span></span>
<span class="line"><span style="color:#6F42C1;">a</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> $foo</span></span>
<span class="line"><span style="color:#6F42C1;">a</span></span></code></pre></div><p>上面例子中，引用数组元素的时候，没有指定位置，结果返回的是<code>0</code>号位置。</p><h2 id="数组的长度" tabindex="-1">数组的长度 <a class="header-anchor" href="#数组的长度" aria-label="Permalink to &quot;数组的长度&quot;">​</a></h2><p>要想知道数组的长度（即一共包含多少成员），可以使用下面两种语法。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">\${</span><span style="color:#F97583;">#</span><span style="color:#E1E4E8;">array[*]}</span></span>
<span class="line"><span style="color:#E1E4E8;">\${</span><span style="color:#F97583;">#</span><span style="color:#E1E4E8;">array[@]}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">\${</span><span style="color:#D73A49;">#</span><span style="color:#24292E;">array[*]}</span></span>
<span class="line"><span style="color:#24292E;">\${</span><span style="color:#D73A49;">#</span><span style="color:#24292E;">array[@]}</span></span></code></pre></div><p>下面是一个例子。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a[</span><span style="color:#79B8FF;">100</span><span style="color:#9ECBFF;">]=foo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${</span><span style="color:#F97583;">#</span><span style="color:#E1E4E8;">a[*]}</span></span>
<span class="line"><span style="color:#B392F0;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${</span><span style="color:#F97583;">#</span><span style="color:#E1E4E8;">a[@]}</span></span>
<span class="line"><span style="color:#B392F0;">1</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a[</span><span style="color:#005CC5;">100</span><span style="color:#032F62;">]=foo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${</span><span style="color:#D73A49;">#</span><span style="color:#24292E;">a[*]}</span></span>
<span class="line"><span style="color:#6F42C1;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${</span><span style="color:#D73A49;">#</span><span style="color:#24292E;">a[@]}</span></span>
<span class="line"><span style="color:#6F42C1;">1</span></span></code></pre></div><p>上面例子中，把字符串赋值给<code>100</code>位置的数组元素，这时的数组只有一个元素。</p><p>注意，如果用这种语法去读取具体的数组成员，就会返回该成员的字符串长度。这一点必须小心。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a[</span><span style="color:#79B8FF;">100</span><span style="color:#9ECBFF;">]=foo</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${</span><span style="color:#F97583;">#</span><span style="color:#E1E4E8;">a[100]}</span></span>
<span class="line"><span style="color:#B392F0;">3</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a[</span><span style="color:#005CC5;">100</span><span style="color:#032F62;">]=foo</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${</span><span style="color:#D73A49;">#</span><span style="color:#24292E;">a[100]}</span></span>
<span class="line"><span style="color:#6F42C1;">3</span></span></code></pre></div><p>上面例子中，<code>\${#a[100]}</code>实际上是返回数组第100号成员<code>a[100]</code>的值（<code>foo</code>）的字符串长度。</p><h2 id="提取数组序号" tabindex="-1">提取数组序号 <a class="header-anchor" href="#提取数组序号" aria-label="Permalink to &quot;提取数组序号&quot;">​</a></h2><p><code>\${!array[@]}</code>或<code>\${!array[*]}</code>，可以返回数组的成员序号，即哪些位置是有值的。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">arr=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">[</span><span style="color:#79B8FF;">5</span><span style="color:#9ECBFF;">]=a</span><span style="color:#E1E4E8;"> [9]=b [</span><span style="color:#79B8FF;">23</span><span style="color:#E1E4E8;">]=c)</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">arr[@]}</span></span>
<span class="line"><span style="color:#B392F0;">5</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">23</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">arr[*]}</span></span>
<span class="line"><span style="color:#B392F0;">5</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">23</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">arr=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">[</span><span style="color:#005CC5;">5</span><span style="color:#032F62;">]=a</span><span style="color:#24292E;"> [9]=b [</span><span style="color:#005CC5;">23</span><span style="color:#24292E;">]=c)</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">arr[@]}</span></span>
<span class="line"><span style="color:#6F42C1;">5</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">23</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">arr[*]}</span></span>
<span class="line"><span style="color:#6F42C1;">5</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">23</span></span></code></pre></div><p>上面例子中，数组的5、9、23号位置有值。</p><p>利用这个语法，也可以通过<code>for</code>循环遍历数组。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">arr</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">d</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">in</span><span style="color:#E1E4E8;"> \${</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">arr[@]};</span><span style="color:#F97583;">do</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> \${arr[i]}</span></span>
<span class="line"><span style="color:#F97583;">done</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">arr</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">d</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> \${</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">arr[@]};</span><span style="color:#D73A49;">do</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> \${arr[i]}</span></span>
<span class="line"><span style="color:#D73A49;">done</span></span></code></pre></div><h2 id="提取数组成员" tabindex="-1">提取数组成员 <a class="header-anchor" href="#提取数组成员" aria-label="Permalink to &quot;提取数组成员&quot;">​</a></h2><p><code>\${array[@]:position:length}</code>的语法可以提取数组成员。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">food=</span><span style="color:#E1E4E8;">( </span><span style="color:#9ECBFF;">apples</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bananas</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">cucumbers</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">dates</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">eggs</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">fajitas</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">grapes</span><span style="color:#E1E4E8;"> )</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${food[@]</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;">1</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;">1}</span></span>
<span class="line"><span style="color:#B392F0;">bananas</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${food[@]</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;">1</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;">3}</span></span>
<span class="line"><span style="color:#B392F0;">bananas</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">cucumbers</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">dates</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">food=</span><span style="color:#24292E;">( </span><span style="color:#032F62;">apples</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bananas</span><span style="color:#24292E;"> </span><span style="color:#032F62;">cucumbers</span><span style="color:#24292E;"> </span><span style="color:#032F62;">dates</span><span style="color:#24292E;"> </span><span style="color:#032F62;">eggs</span><span style="color:#24292E;"> </span><span style="color:#032F62;">fajitas</span><span style="color:#24292E;"> </span><span style="color:#032F62;">grapes</span><span style="color:#24292E;"> )</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${food[@]</span><span style="color:#D73A49;">:</span><span style="color:#24292E;">1</span><span style="color:#D73A49;">:</span><span style="color:#24292E;">1}</span></span>
<span class="line"><span style="color:#6F42C1;">bananas</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${food[@]</span><span style="color:#D73A49;">:</span><span style="color:#24292E;">1</span><span style="color:#D73A49;">:</span><span style="color:#24292E;">3}</span></span>
<span class="line"><span style="color:#6F42C1;">bananas</span><span style="color:#24292E;"> </span><span style="color:#032F62;">cucumbers</span><span style="color:#24292E;"> </span><span style="color:#032F62;">dates</span></span></code></pre></div><p>上面例子中，<code>\${food[@]:1:1}</code>返回从数组1号位置开始的1个成员，<code>\${food[@]:1:3}</code>返回从1号位置开始的3个成员。</p><p>如果省略长度参数<code>length</code>，则返回从指定位置开始的所有成员。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${food[@]</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;">4}</span></span>
<span class="line"><span style="color:#B392F0;">eggs</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">fajitas</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">grapes</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${food[@]</span><span style="color:#D73A49;">:</span><span style="color:#24292E;">4}</span></span>
<span class="line"><span style="color:#6F42C1;">eggs</span><span style="color:#24292E;"> </span><span style="color:#032F62;">fajitas</span><span style="color:#24292E;"> </span><span style="color:#032F62;">grapes</span></span></code></pre></div><p>上面例子返回从4号位置开始到结束的所有成员。</p><h2 id="追加数组成员" tabindex="-1">追加数组成员 <a class="header-anchor" href="#追加数组成员" aria-label="Permalink to &quot;追加数组成员&quot;">​</a></h2><p>数组末尾追加成员，可以使用<code>+=</code>赋值运算符。它能够自动地把值追加到数组末尾。否则，就需要知道数组的最大序号，比较麻烦。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${foo[@]}</span></span>
<span class="line"><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo+=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${foo[@]}</span></span>
<span class="line"><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${foo[@]}</span></span>
<span class="line"><span style="color:#6F42C1;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo+=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${foo[@]}</span></span>
<span class="line"><span style="color:#6F42C1;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f</span></span></code></pre></div><h2 id="删除数组" tabindex="-1">删除数组 <a class="header-anchor" href="#删除数组" aria-label="Permalink to &quot;删除数组&quot;">​</a></h2><p>删除一个数组成员，使用<code>unset</code>命令。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${foo[@]}</span></span>
<span class="line"><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">unset</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo[</span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">]</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${foo[@]}</span></span>
<span class="line"><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${foo[@]}</span></span>
<span class="line"><span style="color:#6F42C1;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">unset</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo[</span><span style="color:#005CC5;">2</span><span style="color:#032F62;">]</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${foo[@]}</span></span>
<span class="line"><span style="color:#6F42C1;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f</span></span></code></pre></div><p>上面例子中，删除了数组中的第三个元素，下标为2。</p><p>将某个成员设为空值，可以从返回值中“隐藏”这个成员。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo[</span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">]=&#39;&#39;</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${foo[@]}</span></span>
<span class="line"><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo[</span><span style="color:#005CC5;">1</span><span style="color:#032F62;">]=&#39;&#39;</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${foo[@]}</span></span>
<span class="line"><span style="color:#6F42C1;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f</span></span></code></pre></div><p>上面例子中，将数组的第二个成员设为空字符串，数组的返回值中，这个成员就“隐藏”了。</p><p>注意，这里是“隐藏”，而不是删除，因为这个成员仍然存在，只是值变成了空值。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo[</span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">]=&#39;&#39;</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${</span><span style="color:#F97583;">#</span><span style="color:#E1E4E8;">foo[@]}</span></span>
<span class="line"><span style="color:#B392F0;">6</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">foo[@]}</span></span>
<span class="line"><span style="color:#B392F0;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo[</span><span style="color:#005CC5;">1</span><span style="color:#032F62;">]=&#39;&#39;</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${</span><span style="color:#D73A49;">#</span><span style="color:#24292E;">foo[@]}</span></span>
<span class="line"><span style="color:#6F42C1;">6</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">foo[@]}</span></span>
<span class="line"><span style="color:#6F42C1;">0</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5</span></span></code></pre></div><p>上面代码中，第二个成员设为空值后，数组仍然包含6个成员。</p><p>由于空值就是空字符串，所以下面这样写也有隐藏效果，但是不建议这种写法。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo[</span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">]=</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo[</span><span style="color:#005CC5;">1</span><span style="color:#032F62;">]=</span></span></code></pre></div><p>上面的写法也相当于“隐藏”了数组的第二个成员。</p><p>直接将数组变量赋值为空字符串，相当于“隐藏”数组的第一个成员。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo=</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">foo=&#39;&#39;</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${foo[@]}</span></span>
<span class="line"><span style="color:#B392F0;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">c</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">d</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">f</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo=</span><span style="color:#24292E;">(</span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">foo=&#39;&#39;</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${foo[@]}</span></span>
<span class="line"><span style="color:#6F42C1;">b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">c</span><span style="color:#24292E;"> </span><span style="color:#032F62;">d</span><span style="color:#24292E;"> </span><span style="color:#032F62;">e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">f</span></span></code></pre></div><p>上面的写法相当于“隐藏”了数组的第一个成员。</p><p><code>unset ArrayName</code>可以清空整个数组。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">unset</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ARRAY</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">echo</span><span style="color:#E1E4E8;"> \${ARRAY[*]}</span></span>
<span class="line"><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">--no output--</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">unset</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ARRAY</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">echo</span><span style="color:#24292E;"> \${ARRAY[*]}</span></span>
<span class="line"><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">--no output--</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><h2 id="关联数组" tabindex="-1">关联数组 <a class="header-anchor" href="#关联数组" aria-label="Permalink to &quot;关联数组&quot;">​</a></h2><p>Bash 的新版本支持关联数组。关联数组使用字符串而不是整数作为数组索引。</p><p><code>declare -A</code>可以声明关联数组。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">declare</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-A</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">colors</span></span>
<span class="line"><span style="color:#B392F0;">colors[</span><span style="color:#B392F0;">&quot;red&quot;</span><span style="color:#B392F0;">]</span><span style="color:#E1E4E8;">=</span><span style="color:#B392F0;">&quot;#ff0000&quot;</span></span>
<span class="line"><span style="color:#B392F0;">colors[</span><span style="color:#B392F0;">&quot;green&quot;</span><span style="color:#B392F0;">]</span><span style="color:#E1E4E8;">=</span><span style="color:#B392F0;">&quot;#00ff00&quot;</span></span>
<span class="line"><span style="color:#B392F0;">colors[</span><span style="color:#B392F0;">&quot;blue&quot;</span><span style="color:#B392F0;">]</span><span style="color:#E1E4E8;">=</span><span style="color:#B392F0;">&quot;#0000ff&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">declare</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-A</span><span style="color:#24292E;"> </span><span style="color:#032F62;">colors</span></span>
<span class="line"><span style="color:#6F42C1;">colors[</span><span style="color:#6F42C1;">&quot;red&quot;</span><span style="color:#6F42C1;">]</span><span style="color:#24292E;">=</span><span style="color:#6F42C1;">&quot;#ff0000&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">colors[</span><span style="color:#6F42C1;">&quot;green&quot;</span><span style="color:#6F42C1;">]</span><span style="color:#24292E;">=</span><span style="color:#6F42C1;">&quot;#00ff00&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">colors[</span><span style="color:#6F42C1;">&quot;blue&quot;</span><span style="color:#6F42C1;">]</span><span style="color:#24292E;">=</span><span style="color:#6F42C1;">&quot;#0000ff&quot;</span></span></code></pre></div><p>关联数组必须用带有<code>-A</code>选项的<code>declare</code>命令声明创建。相比之下，整数索引的数组，可以直接使用变量名创建数组，关联数组就不行。</p><p>访问关联数组成员的方式，几乎与整数索引数组相同。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> \${colors[&quot;blue&quot;]}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> \${colors[&quot;blue&quot;]}</span></span></code></pre></div>`,108),e=[o];function c(t,r,y,E,F,i){return a(),n("div",null,e)}const h=s(l,[["render",c]]);export{C as __pageData,h as default};
