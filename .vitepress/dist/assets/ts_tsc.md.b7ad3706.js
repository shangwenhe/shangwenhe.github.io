import{_ as s,o,c as e,Q as p}from"./chunks/framework.681fc4ae.js";const u=JSON.parse('{"title":"tsc 命令行编译器","description":"","frontmatter":{},"headers":[],"relativePath":"ts/tsc.md","filePath":"ts/tsc.md"}'),c={name:"ts/tsc.md"},n=p(`<h1 id="tsc-命令行编译器" tabindex="-1">tsc 命令行编译器 <a class="header-anchor" href="#tsc-命令行编译器" aria-label="Permalink to &quot;tsc 命令行编译器&quot;">​</a></h1><h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to &quot;简介&quot;">​</a></h2><p>tsc 是 TypeScript 官方的命令行编译器，用来检查代码，并将其编译成 JavaScript 代码。</p><p>tsc 默认使用当前目录下的配置文件<code>tsconfig.json</code>，但也可以接受独立的命令行参数。命令行参数会覆盖<code>tsconfig.json</code>，比如命令行指定了所要编译的文件，那么 tsc 就会忽略<code>tsconfig.json</code>的<code>files</code>属性。</p><p>tsc 的基本用法如下。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 使用 tsconfig.json 的配置</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tsc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 只编译 index.ts</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tsc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">index.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 编译 src 目录的所有 .ts 文件</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tsc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">src/</span><span style="color:#79B8FF;">*</span><span style="color:#9ECBFF;">.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 指定编译配置文件</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tsc</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--project</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tsconfig.production.json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 只生成类型声明文件，不编译出 JS 文件</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tsc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">index.js</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--declaration</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--emitDeclarationOnly</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 多个 TS 文件编译成单个 JS 文件</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tsc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">app.ts</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">util.ts</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--target</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">esnext</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--outfile</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">index.js</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 使用 tsconfig.json 的配置</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tsc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 只编译 index.ts</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tsc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">index.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 编译 src 目录的所有 .ts 文件</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tsc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">src/</span><span style="color:#005CC5;">*</span><span style="color:#032F62;">.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 指定编译配置文件</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tsc</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--project</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tsconfig.production.json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 只生成类型声明文件，不编译出 JS 文件</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tsc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">index.js</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--declaration</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--emitDeclarationOnly</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 多个 TS 文件编译成单个 JS 文件</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tsc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">app.ts</span><span style="color:#24292E;"> </span><span style="color:#032F62;">util.ts</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--target</span><span style="color:#24292E;"> </span><span style="color:#032F62;">esnext</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--outfile</span><span style="color:#24292E;"> </span><span style="color:#032F62;">index.js</span></span></code></pre></div><h2 id="命令行参数" tabindex="-1">命令行参数 <a class="header-anchor" href="#命令行参数" aria-label="Permalink to &quot;命令行参数&quot;">​</a></h2><p>tsc 的命令行参数，大部分与 tsconfig.json 的属性一一对应。</p><p>下面只是按照首字母排序，简单罗列出主要的一些参数，详细解释可以参考《tsconfig.json 配置文件》一章。</p><p><code>--all</code>：输出所有可用的参数。</p><p><code>--allowJs</code>：允许 TS 脚本加载 JS 模块，编译时将 JS 一起拷贝到输出目录。</p><p><code>--allowUnreachableCode</code>：如果 TS 脚本有不可能运行到的代码，不报错。</p><p><code>--allowUnusedLabels</code>：如果 TS 脚本有没有用到的标签，不报错。</p><p><code>--alwaysStrict</code>：总是在编译产物的头部添加<code>use strict</code>。</p><p><code>--baseUrl</code>：指定非相对位置的模块定位的基准 URL。</p><p><code>--build</code>：启用增量编译。</p><p><code>--checkJs</code>：对 JS 脚本进行类型检查。</p><p><code>--declaration</code>：为 TS 脚本生成一个类型生成文件。</p><p><code>--declarationDir</code>：指定生成的类型声明文件的所在目录。</p><p><code>--declarationMap</code>：为<code>.d.ts</code>文件生成 SourceMap 文件。</p><p><code>--diagnostics</code>：构建后输出编译性能信息。</p><p><code>--emitBOM</code>：在编译输出的 UTF-8 文件头部加上 BOM 标志。</p><p><code>--emitDeclarationOnly</code>：只编译输出类型声明文件，不输出 JS 文件。</p><p><code>--esModuleInterop</code>：更容易使用 import 命令加载 CommonJS 模块。</p><p><code>--exactOptionalPropertyTypes</code>：不允许将可选属性设置为<code>undefined</code>。</p><p><code>--experimentalDecorators</code>：支持早期的装饰器语法。</p><p><code>--explainFiles</code>：输出进行编译的文件信息。</p><p><code>--forceConsistentCasingInFileNames</code>：文件名大小写敏感，默认打开。</p><p><code>--help</code>：输出帮助信息。</p><p><code>--importHelpers</code>：从外部库（比如 tslib）输入辅助函数。</p><p><code>--incremental</code>：启用增量构建。</p><p><code>--init</code>：在当前目录创建一个全新的<code>tsconfig.json</code>文件，里面是预设的设置。</p><p><code>--inlineSourceMap</code>：SourceMap 信息嵌入 JS 文件，而不是生成独立的<code>.js.map</code>文件。</p><p><code>--inlineSources</code>：将 TypeScript 源码作为 SourceMap 嵌入编译出来的 JS 文件。</p><p><code>--isolatedModules</code>：确保每个模块能够独立编译，不依赖其他输入的模块。</p><p><code>--jsx</code>：设置如何处理 JSX 文件。</p><p><code>--lib</code>：设置目标环境需要哪些内置库的类型描述。</p><p><code>--listEmittedFiles</code>：编译后输出编译产物的文件名。</p><p><code>--listFiles</code>：编译过程中，列出读取的文件名。</p><p><code>--listFilesOnly</code>：列出编译所要处理的文件，然后停止编译。</p><p><code>--locale</code>：指定编译时输出的语言，不影响编译结果。</p><p><code>--mapRoot</code>：指定 SourceMap 文件的位置。</p><p><code>--module</code>：指定编译生成的模块格式。</p><p><code>--moduleResolution</code>：指定如何根据模块名找到模块的位置。</p><p><code>--moduleSuffixes</code>：指定模块文件的后缀名。</p><p><code>--newLine</code>：指定编译产物的换行符，可以设为<code>crlf</code>或者<code>lf</code>。</p><p><code>--noEmit</code>：不生成编译产物，只进行类型检查。</p><p><code>--noEmitHelpers</code>：不在编译产物中加入辅助函数。</p><p><code>--noEmitOnError</code>：一旦报错，就停止编译，没有编译产物。</p><p><code>--noFallthroughCasesInSwitch</code>：Switch 结构的<code>case</code>分支必须有终止语句（比如<code>break</code>）。</p><p><code>--noImplicitAny</code>：类型推断只要为<code>any</code>类型就报错。</p><p><code>--noImplicitReturns</code>：函数内部没有显式返回语句（比如<code>return</code>）就报错。</p><p><code>--noImplicitThis</code>：如果<code>this</code>关键字是<code>any</code>类型，就报错。</p><p><code>--noImplicitUseStrict</code>：编译产生的 JS 文件头部不添加<code>use strict</code>语句。</p><p><code>--noResolve</code>：不进行模块定位，除非该模块是由命令行传入。</p><p><code>--noUnusedLocals</code>：如果有未使用的局部变量就报错。</p><p><code>--noUnusedParameters</code>：如果有未使用的函数参数就报错。</p><p><code>--outDir</code>：指定编译产物的存放目录。</p><p><code>--outFile</code>：所有编译产物打包成一个指定文件。</p><p><code>--preserveConstEnums</code>：不将<code>const enum</code>结构在生成的代码中，替换成常量。</p><p><code>--preserveWatchOutput</code>： watch 模式下不清屏。</p><p><code>--pretty</code>：美化显示编译时的终端输出。这是默认值，但是可以关闭<code>--pretty false</code>。</p><p><code>--project</code>（或者<code>-p</code>）：指定编译配置文件，或者该文件所在的目录。</p><p><code>--removeComments</code>：编译结果中移除代码注释。</p><p><code>--resolveJsonModule</code>：允许加载 JSON 文件。</p><p><code>--rootDir</code>：指定加载文件所在的根目录，该目录里面的目录结构会被复制到输出目录。</p><p><code>--rootDirs</code>：允许模块定位时，多个目录被当成一个虚拟目录。</p><p><code>--skipDefaultLibCheck</code>：跳过 TypeScript 内置类型声明文件的类型检查。</p><p><code>--skipLibCheck</code>：跳过<code>.d.ts</code>类型声明文件的类型检查。这样可以加快编译速度。</p><p><code>--showConfig</code>：终端输出编译配置信息，而不进行配置。</p><p><code>--sourcemap</code>：为编译产生的 JS 文件生成 SourceMap 文件（.map 文件）。</p><p><code>--sourceRoot</code>：指定 SourceMap 文件里面的 TypeScript 源码根目录位置。</p><p><code>--strict</code>：打开 TypeScript 严格检查模式。</p><p><code>--strictBindCallApply</code>：bind, call、apply 这三个函数的类型，匹配原始函数。</p><p><code>--strictFunctionTypes</code>：如果函数 B 的参数是函数 A 参数的子类型，那么函数 B 不能替代函数 A。</p><p><code>--strictNullChecks</code>：对<code>null</code>和<code>undefined</code>进行严格类型检查。</p><p><code>--strictPropertyInitialization</code>：类的属性必须进行初始值，但是允许在构造函数里面赋值。</p><p><code>--suppressExcessPropertyErrors</code>：关闭对象字面量的多余参数的报错。</p><p><code>--target</code>：指定编译出来的 JS 代码的版本，TypeScript 还会在编译时自动加入对应的库类型声明文件。</p><p><code>--traceResolution</code>：编译时在终端输出模块解析（moduleResolution）的具体步骤。</p><p><code>--typeRoots</code>：设置类型模块所在的目录，替代默认的<code>node_modules/@types</code>。</p><p><code>--types</code>：设置<code>typeRoots</code>目录下需要包括在编译之中的类型模块。</p><p><code>--version</code>：终端输出 tsc 的版本号。</p><p><code>--watch</code>（或者<code>-w</code>）：进入观察模式，只要文件有修改，就会自动重新编译。</p>`,84),a=[n];function l(t,d,r,i,y,E){return o(),e("div",null,a)}const C=s(c,[["render",l]]);export{u as __pageData,C as default};
