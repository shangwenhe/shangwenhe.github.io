import{_ as s,o as n,c as a,Q as o}from"./chunks/framework.681fc4ae.js";const b=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"npm/configuring/npmrc.md","filePath":"npm/configuring/npmrc.md"}'),r={name:"npm/configuring/npmrc.md"},e=o(`<h2 id="描述" tabindex="-1">描述 <a class="header-anchor" href="#描述" aria-label="Permalink to &quot;描述&quot;">​</a></h2><p>npm 从命令行、环境变量和<code>npmrc</code>文件获取其配置设置。</p><p>该<code>npm config</code>命令可用于更新和编辑用户和全局 npmrc 文件的内容。</p><p>有关可用配置选项的列表，请参阅<a href="https://docs.npmjs.com/cli/v7/using-npm/config" target="_blank" rel="noreferrer">config</a>。</p><h2 id="files" tabindex="-1"><code>files</code> <a class="header-anchor" href="#files" aria-label="Permalink to &quot;\`files\`&quot;">​</a></h2><p>四个相关文件是：</p><ul><li>每个项目的配置文件（/path/to/my/project/.npmrc）</li><li>每个用户的配置文件 (~/.npmrc)</li><li>全局配置文件（$PREFIX/etc/npmrc）</li><li>npm 内置配置文件 (/path/to/npm/npmrc)</li></ul><p>所有 npm 配置文件都是 ini 格式的<code>key = value</code>参数列表。可以使用 替换环境变量<code>\${VARIABLE_NAME}</code>。例如：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">prefix</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> \${HOME}</span><span style="color:#9ECBFF;">/.npm-packages</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">prefix</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> \${HOME}</span><span style="color:#032F62;">/.npm-packages</span></span></code></pre></div><p>每个文件都会被加载，并且配置选项会按优先级顺序解析。例如，用户配置文件中的设置将覆盖全局配置文件中的设置。</p><p>数组值通过在键名称后添加“[]”来指定。例如：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">key[]</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;first value&quot;</span></span>
<span class="line"><span style="color:#B392F0;">key[]</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;second value&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">key[]</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;first value&quot;</span></span>
<span class="line"><span style="color:#6F42C1;">key[]</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;second value&quot;</span></span></code></pre></div><h2 id="comments" tabindex="-1"><code>comments</code> <a class="header-anchor" href="#comments" aria-label="Permalink to &quot;\`comments\`&quot;">​</a></h2><p>文件中的行以 或字符<code>.npmrc</code>开头时被解释为注释。<a href="https://github.com/npm/ini" target="_blank" rel="noreferrer">文件由npm/ini</a>解析，它指定了此注释语法。<code>;\`\`#\`\`.npmrc</code></p><p>例如：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># last modified: 01 Jan 2016</span></span>
<span class="line"><span style="color:#E1E4E8;">; </span><span style="color:#B392F0;">Set</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">registry</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">scoped</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">package</span></span>
<span class="line"><span style="color:#B392F0;">@myscope:registry</span><span style="color:#E1E4E8;">=https://mycustomregistry.example.org</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># last modified: 01 Jan 2016</span></span>
<span class="line"><span style="color:#24292E;">; </span><span style="color:#6F42C1;">Set</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">new</span><span style="color:#24292E;"> </span><span style="color:#032F62;">registry</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">scoped</span><span style="color:#24292E;"> </span><span style="color:#032F62;">package</span></span>
<span class="line"><span style="color:#6F42C1;">@myscope:registry</span><span style="color:#24292E;">=https://mycustomregistry.example.org</span></span></code></pre></div><h2 id="per-project-config-file" tabindex="-1"><code>per-project-config-file</code> <a class="header-anchor" href="#per-project-config-file" aria-label="Permalink to &quot;\`per-project-config-file\`&quot;">​</a></h2><p>当在项目中本地工作时，<code>.npmrc</code>项目根目录中的文件（即 和 的同级文件<code>node_modules</code>）<code>package.json</code>将设置特定于该项目的配置值。</p><p>请注意，这仅适用于您运行 npm 的项目的根目录。当您的模块发布时，它不会产生任何影响。例如，您不能发布强制自身安装在全局或不同位置的模块。</p><p>此外，在全局模式下（例如运行时）不会读取此文件<code>npm install -g</code>。</p><h2 id="per-user-config-file" tabindex="-1"><code>per-user-config-file</code> <a class="header-anchor" href="#per-user-config-file" aria-label="Permalink to &quot;\`per-user-config-file\`&quot;">​</a></h2><p><code>$HOME/.npmrc</code>（或<code>userconfig</code>参数，如果在环境或命令行中设置）</p><h2 id="global-config-file" tabindex="-1"><code>global-config-file</code> <a class="header-anchor" href="#global-config-file" aria-label="Permalink to &quot;\`global-config-file\`&quot;">​</a></h2><p><code>$PREFIX/etc/npmrc</code>（或<code>globalconfig</code>参数，如果在上面设置）：此文件是 ini 文件格式的<code>key = value</code>参数列表。环境变量可以如上替换。</p><h2 id="built-in-config-file" tabindex="-1"><code>built-in-config-file</code> <a class="header-anchor" href="#built-in-config-file" aria-label="Permalink to &quot;\`built-in-config-file\`&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">path/to/npm/itself/npmrc</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">path/to/npm/itself/npmrc</span></span></code></pre></div><p>这是一个不可更改的“内置”配置文件，npm 在更新中保持一致。<code>./configure</code>使用npm 附带的脚本在此处设置字段。这主要是为了让发行版维护人员以标准且一致的方式覆盖默认配置。</p><h2 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h2><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">sass_binary_site=http://cdn.npm.taobao.org/dist/node-sass</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span>
<span class="line"><span style="color:#e1e4e8;">registry=https://registry.npm.taobao.org</span></span>
<span class="line"><span style="color:#e1e4e8;">disturl=https://npm.taobao.org/dist</span></span>
<span class="line"><span style="color:#e1e4e8;">chromedriver-cdnurl=https://npm.taobao.org/mirrors/chromedriver</span></span>
<span class="line"><span style="color:#e1e4e8;">couchbase-binary-host-mirror=https://npm.taobao.org/mirrors/couchbase/v{version}</span></span>
<span class="line"><span style="color:#e1e4e8;">debug-binary-host-mirror=https://npm.taobao.org/mirrors/node-inspector</span></span>
<span class="line"><span style="color:#e1e4e8;">electron-mirror=https://npm.taobao.org/mirrors/electron/</span></span>
<span class="line"><span style="color:#e1e4e8;">flow-bin-binary-host-mirror=https://npm.taobao.org/mirrors/flow/v</span></span>
<span class="line"><span style="color:#e1e4e8;">fse-binary-host-mirror=https://npm.taobao.org/mirrors/fsevents</span></span>
<span class="line"><span style="color:#e1e4e8;">fuse-bindings-binary-host-mirror=https://npm.taobao.org/mirrors/fuse-bindings/v{version}</span></span>
<span class="line"><span style="color:#e1e4e8;">git4win-mirror=https://npm.taobao.org/mirrors/git-for-windows</span></span>
<span class="line"><span style="color:#e1e4e8;">gl-binary-host-mirror=https://npm.taobao.org/mirrors/gl/v{version}</span></span>
<span class="line"><span style="color:#e1e4e8;">grpc-node-binary-host-mirror=https://npm.taobao.org/mirrors</span></span>
<span class="line"><span style="color:#e1e4e8;">hackrf-binary-host-mirror=https://npm.taobao.org/mirrors/hackrf/v{version}</span></span>
<span class="line"><span style="color:#e1e4e8;">leveldown-binary-host-mirror=https://npm.taobao.org/mirrors/leveldown/v{version}</span></span>
<span class="line"><span style="color:#e1e4e8;">leveldown-hyper-binary-host-mirror=https://npm.taobao.org/mirrors/leveldown-hyper/v{version}</span></span>
<span class="line"><span style="color:#e1e4e8;">mknod-binary-host-mirror=https://npm.taobao.org/mirrors/mknod/v{version}</span></span>
<span class="line"><span style="color:#e1e4e8;">node-sqlite3-binary-host-mirror=https://npm.taobao.org/mirrors</span></span>
<span class="line"><span style="color:#e1e4e8;">node-tk5-binary-host-mirror=https://npm.taobao.org/mirrors/node-tk5/v{version}</span></span>
<span class="line"><span style="color:#e1e4e8;">nodegit-binary-host-mirror=https://npm.taobao.org/mirrors/nodegit/v{version}/</span></span>
<span class="line"><span style="color:#e1e4e8;">operadriver-cdnurl=https://npm.taobao.org/mirrors/operadriver</span></span>
<span class="line"><span style="color:#e1e4e8;">phantomjs-cdnurl=https://npm.taobao.org/mirrors/phantomjs</span></span>
<span class="line"><span style="color:#e1e4e8;">profiler-binary-host-mirror=https://npm.taobao.org/mirrors/node-inspector/</span></span>
<span class="line"><span style="color:#e1e4e8;">puppeteer-download-host=https://npm.taobao.org/mirrors</span></span>
<span class="line"><span style="color:#e1e4e8;">python-mirror=https://npm.taobao.org/mirrors/python</span></span>
<span class="line"><span style="color:#e1e4e8;">rabin-binary-host-mirror=https://npm.taobao.org/mirrors/rabin/v{version}</span></span>
<span class="line"><span style="color:#e1e4e8;">sass-binary-site=https://npm.taobao.org/mirrors/node-sass</span></span>
<span class="line"><span style="color:#e1e4e8;">sodium-prebuilt-binary-host-mirror=https://npm.taobao.org/mirrors/sodium-prebuilt/v{version}</span></span>
<span class="line"><span style="color:#e1e4e8;">sqlite3-binary-site=https://npm.taobao.org/mirrors/sqlite3</span></span>
<span class="line"><span style="color:#e1e4e8;">utf-8-validate-binary-host-mirror=https://npm.taobao.org/mirrors/utf-8-validate/v{version}</span></span>
<span class="line"><span style="color:#e1e4e8;">utp-native-binary-host-mirror=https://npm.taobao.org/mirrors/utp-native/v{version}</span></span>
<span class="line"><span style="color:#e1e4e8;">zmq-prebuilt-binary-host-mirror=https://npm.taobao.org/mirrors/zmq-prebuilt/v{version}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">sass_binary_site=http://cdn.npm.taobao.org/dist/node-sass</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">registry=https://registry.npm.taobao.org</span></span>
<span class="line"><span style="color:#24292e;">disturl=https://npm.taobao.org/dist</span></span>
<span class="line"><span style="color:#24292e;">chromedriver-cdnurl=https://npm.taobao.org/mirrors/chromedriver</span></span>
<span class="line"><span style="color:#24292e;">couchbase-binary-host-mirror=https://npm.taobao.org/mirrors/couchbase/v{version}</span></span>
<span class="line"><span style="color:#24292e;">debug-binary-host-mirror=https://npm.taobao.org/mirrors/node-inspector</span></span>
<span class="line"><span style="color:#24292e;">electron-mirror=https://npm.taobao.org/mirrors/electron/</span></span>
<span class="line"><span style="color:#24292e;">flow-bin-binary-host-mirror=https://npm.taobao.org/mirrors/flow/v</span></span>
<span class="line"><span style="color:#24292e;">fse-binary-host-mirror=https://npm.taobao.org/mirrors/fsevents</span></span>
<span class="line"><span style="color:#24292e;">fuse-bindings-binary-host-mirror=https://npm.taobao.org/mirrors/fuse-bindings/v{version}</span></span>
<span class="line"><span style="color:#24292e;">git4win-mirror=https://npm.taobao.org/mirrors/git-for-windows</span></span>
<span class="line"><span style="color:#24292e;">gl-binary-host-mirror=https://npm.taobao.org/mirrors/gl/v{version}</span></span>
<span class="line"><span style="color:#24292e;">grpc-node-binary-host-mirror=https://npm.taobao.org/mirrors</span></span>
<span class="line"><span style="color:#24292e;">hackrf-binary-host-mirror=https://npm.taobao.org/mirrors/hackrf/v{version}</span></span>
<span class="line"><span style="color:#24292e;">leveldown-binary-host-mirror=https://npm.taobao.org/mirrors/leveldown/v{version}</span></span>
<span class="line"><span style="color:#24292e;">leveldown-hyper-binary-host-mirror=https://npm.taobao.org/mirrors/leveldown-hyper/v{version}</span></span>
<span class="line"><span style="color:#24292e;">mknod-binary-host-mirror=https://npm.taobao.org/mirrors/mknod/v{version}</span></span>
<span class="line"><span style="color:#24292e;">node-sqlite3-binary-host-mirror=https://npm.taobao.org/mirrors</span></span>
<span class="line"><span style="color:#24292e;">node-tk5-binary-host-mirror=https://npm.taobao.org/mirrors/node-tk5/v{version}</span></span>
<span class="line"><span style="color:#24292e;">nodegit-binary-host-mirror=https://npm.taobao.org/mirrors/nodegit/v{version}/</span></span>
<span class="line"><span style="color:#24292e;">operadriver-cdnurl=https://npm.taobao.org/mirrors/operadriver</span></span>
<span class="line"><span style="color:#24292e;">phantomjs-cdnurl=https://npm.taobao.org/mirrors/phantomjs</span></span>
<span class="line"><span style="color:#24292e;">profiler-binary-host-mirror=https://npm.taobao.org/mirrors/node-inspector/</span></span>
<span class="line"><span style="color:#24292e;">puppeteer-download-host=https://npm.taobao.org/mirrors</span></span>
<span class="line"><span style="color:#24292e;">python-mirror=https://npm.taobao.org/mirrors/python</span></span>
<span class="line"><span style="color:#24292e;">rabin-binary-host-mirror=https://npm.taobao.org/mirrors/rabin/v{version}</span></span>
<span class="line"><span style="color:#24292e;">sass-binary-site=https://npm.taobao.org/mirrors/node-sass</span></span>
<span class="line"><span style="color:#24292e;">sodium-prebuilt-binary-host-mirror=https://npm.taobao.org/mirrors/sodium-prebuilt/v{version}</span></span>
<span class="line"><span style="color:#24292e;">sqlite3-binary-site=https://npm.taobao.org/mirrors/sqlite3</span></span>
<span class="line"><span style="color:#24292e;">utf-8-validate-binary-host-mirror=https://npm.taobao.org/mirrors/utf-8-validate/v{version}</span></span>
<span class="line"><span style="color:#24292e;">utp-native-binary-host-mirror=https://npm.taobao.org/mirrors/utp-native/v{version}</span></span>
<span class="line"><span style="color:#24292e;">zmq-prebuilt-binary-host-mirror=https://npm.taobao.org/mirrors/zmq-prebuilt/v{version}</span></span></code></pre></div>`,29),p=[e];function l(t,i,c,m,h,d){return n(),a("div",null,p)}const g=s(r,[["render",l]]);export{b as __pageData,g as default};
